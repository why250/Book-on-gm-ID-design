% 2.1.2   CSM ID(VDS)clear all;close all;addpath ../../lib% data techno --------------------------------------------T = 300;                        % temperature  °KN = 1e17;                       % doping contr. cm^-3tox = 5;                        % oxide thickness  nmVFB = .6;                       % flat-band voltage  VVS = 0;                         % source voltage  VVD = linspace(.01,2,200).';     % drain voltage  VVG = linspace(2,.5,7);          % gate voltage  V% all voltages are expressed with respect to the substrate% pMat (see annex A2.1.1) -------------------------------- p = pMat(T,N,tox); % compute ID(VD) (see annex A2.1.3) ----------------------k = 1; while k <= length(VG),	ID(:,k) = IDsh(p,VS,VD,VG(1,k)+VFB);	k = k + 1;end% plot ---------------------------------------------------z = 150;h = figure(1);semilogy(VD(1:z,:),ID(1:z,:),'k',VD(z+30:200,:),ID(z+30:200,:),'k','linewidth',1); axis([0 2 1e-8 1e-3]); grid;set(gca, 'yminorgrid', 'off');U = [1 4 5 6 7]; A = ID(100,3); k = 1;while k <= length(U)	a = VG(U(k));	s = sprintf('%g',a); 	g = text(VD(155),1.05*ID(140,U(k)),(s));    set(g, 'fontsize', 9);	k = k + 1;endg = text(1.50,3e-8,'{\itV_G_S}  (V)');set(g, 'fontsize', 9);xlabel('{\itV_D_S}  (V)')ylabel('{\itI_D}  (A)')%format_and_save(h, 'Fig2_03')